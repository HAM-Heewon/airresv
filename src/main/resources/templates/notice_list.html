<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>공지사항</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" type="text/css" href="./css/head_menu.css">
<link rel="stylesheet" type="text/css" href="./css/notice_list.css">
</head>
<body>
<div class="container">
    <div th:replace="admin_header :: header"></div>
    
    <div th:replace="admin_menu :: menu"></div>
    
    <!-- 메인 콘텐츠 -->
    <div class="content">
        <h2 class="section-title">공지사항 관리페이지</h2>
        

        
        <!-- 공지사항 테이블 -->
        <table class="notice-table">
            <thead>
                <tr>
                    <th class="checkbox-col">
                        <input type="checkbox" id="selectAll" onchange="toggleAll(this)">
                    </th>
                    <th class="no-col">NO</th>
                    <th class="title-col">제목</th>
                    <th class="author-col">글쓴이</th>
                    <th class="date-col">날짜</th>
                    <th class="views-col">조회</th>
                </tr>
            </thead>
            <tbody>
                <!-- 데이터가 없을 때 -->
                <tr th:if="${#lists.isEmpty(noticeList)}">
                    <td colspan="6" class="no-data">등록된 공지 내용이 없습니다.</td>
                </tr>
                
                <!-- 공지사항 목록 (샘플 데이터) -->
                <tr>
                    <td><input type="checkbox" name="noticeIds" value="1"></td>
                    <td>1</td>
                    <td>
                        테스트 제목
                    </td>
                    <td>관리자</td>
                    <td>2022-08-17</td>
                    <td>100</td>
                </tr>
                
                <!-- Thymeleaf 반복문 (실제 사용시) -->
                <!--
                <tr th:each="notice, iterStat : ${noticeList}">
                    <td><input type="checkbox" name="noticeIds" th:value="${notice.id}"></td>
                    <td th:text="${iterStat.count}">1</td>
                    <td>
                        <span class="notice-badge" th:if="${notice.important}" th:text="${notice.priority}">3</span>
                        <a th:href="@{/admin/notices/view/{id}(id=${notice.id})}" th:text="${notice.title}">제목</a>
                    </td>
                    <td th:text="${notice.author}">관리자</td>
                    <td th:text="${#temporals.format(notice.createDate, 'yyyy-MM-dd')}">2022-08-17</td>
                    <td th:text="${notice.viewCount}">100</td>
                </tr>
                -->
            </tbody>
        </table>
                <!-- 버튼 그룹 -->
        <div class="button-group">
        <button type="button" class="btn btn-secondary" onclick="deleteSelected()">공지삭제</button>
            <a href="/notice_write" class="btn btn-primary">공지등록</a>
            
        </div>
        
        <!-- 페이지네이션 -->
        <div class="pagination">
            <a href="#">«</a>
            <a href="#">‹</a>
            <span class="current">1</span>
            <a href="#">›</a>
            <a href="#">»</a>
        </div>
    </div>
</div>
<script>
//메뉴 활성화 스크립트
document.addEventListener('DOMContentLoaded', function() {
    const currentPath = window.location.pathname;
    const menuItems = document.querySelectorAll('.menu-item');
    
    console.log('Current path:', currentPath);
    
    // 모든 메뉴에서 active 클래스 제거
    menuItems.forEach(item => {
        item.classList.remove('active');
    });
    
    // 현재 경로에 맞는 메뉴 활성화
    menuItems.forEach(item => {
        const href = item.getAttribute('href');
        
        if (href === currentPath || href === '/notice') {
            item.classList.add('active');
            console.log('✅ Active menu set for:', href);
        }
    });
});

</script>
</body>
</html>